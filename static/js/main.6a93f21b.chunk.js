(this["webpackJsonpphoto-tagging"]=this["webpackJsonpphoto-tagging"]||[]).push([[0],{149:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(51),o=a.n(r),s=a(1),i=a.n(s),l=a(5),j=a(9),b=a(48),d=a(15),u=a(169),O=a(190),h=a(170),x=a(172),p=a(173),f=a(171),m=a(183),g=a.p+"static/media/waldo.82f9fb09.png",v=a.p+"static/media/wenda.11126878.png",y=a.p+"static/media/whitebeard.dcb5c308.png",w=a(168),S=a(10),C=function(e){var t=e.allFound,a=Object(n.useState)(0),c=Object(j.a)(a,2),r=c[0],o=c[1];Object(n.useEffect)((function(){if(!t){var e=setInterval((function(){o(r+1)}),1e3);return function(){return clearInterval(e)}}}),[r]);var s=function(e){var t=Math.floor(e%60),a=Math.floor(e/60);return t<10&&(t="0"+t),a<10&&(a="0"+a),"".concat(a,":").concat(t)}(r);return t?"":Object(S.jsx)(w.a,{pr:30,color:"gray.500",children:s})},k=Object(m.a)(u.a),F=function(e){var t=e.gameStart,a=e.foundCharacters,n=e.allFound,c={found:{backgroundColor:"green",scale:[1,.5,1.2,.5,1]},notFound:{backgroundColor:"gray"}};return Object(S.jsxs)(O.a,{p:4,children:[Object(S.jsx)(h.a,{flex:"1",justify:"flex-start",children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(f.a,{as:b.b,to:"/game",children:"Find Waldo"}),Object(S.jsx)(k,{name:"Waldo",src:g,whileHover:{scale:1.1},variants:c,animate:a.waldo?"found":"notFound"}),Object(S.jsx)(k,{name:"Wenda",src:v,variants:c,animate:a.wenda?"found":"notFound"}),Object(S.jsx)(k,{name:"Magician",src:y,variants:c,animate:a.magician?"found":"notFound"})]})}),Object(S.jsx)(h.a,{flex:"1",justify:"center",children:Object(S.jsx)(x.a,{children:Object(S.jsx)(p.a,{as:b.b,to:"/game",children:"Where's Waldo? V2"})})}),Object(S.jsxs)(h.a,{flex:"1",justify:"flex-end",children:[t&&Object(S.jsx)(C,{allFound:n}),Object(S.jsx)(f.a,{as:b.b,to:"/leaderboard",children:"View Leaderboard V2"})]})]})},I=a(67),T=a(186),P=a(179),L=a(177),M=a(174),W=a(184),A=function(e){var t=e.isOpen,a=e.onClose,n=e.mousePosition,c=e.handleClick;return Object(S.jsx)(M.a,{position:"absolute",bg:"blue.400",left:n.x,top:n.y,children:Object(S.jsx)(W.a,{isOpen:t,children:Object(S.jsxs)(W.c,{onMouseLeave:a,children:[Object(S.jsx)(W.b,{onClick:c,value:"waldo",children:"Waldo"}),Object(S.jsx)(W.b,{onClick:c,value:"wenda",children:"Wenda"}),Object(S.jsx)(W.b,{onClick:c,value:"whitebeard",children:"Magician"})]})})})},B=a(17),G=a(185),Y=a(188),D=a(187),N=a(66),z=function(e){var t=e.totalTime,a=e.allFound,r=e.setPlayerScores,o=e.database,s=e.gameOver,d=e.setGameOver,u=Object(n.useState)(),O=Object(j.a)(u,2),h=O[0],x=O[1],f=Object(L.a)(),m=f.isOpen,g=f.onOpen,v=f.onClose;Object(n.useEffect)((function(){a&&(m||g()),console.log(a)}),[a]);var y=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)(Object(N.b)(o,"players"),{name:h,time:t});case 2:e.sent,d(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(G.a,{isOpen:m,onClose:v,isCentered:!0,children:[Object(S.jsx)(G.g,{}),Object(S.jsxs)(G.d,{children:[Object(S.jsx)(G.f,{children:"You Win!"}),Object(S.jsx)(G.c,{}),Object(S.jsxs)(G.b,{children:["Your time was",Object(S.jsx)(p.a,{size:"3xl",color:"green.300",children:t})]}),Object(S.jsx)(G.e,{children:!s&&Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(Y.a,{mr:2,placeholder:"Enter your name",onChange:function(e){return x(e.target.value)}}),Object(S.jsx)(D.a,{as:b.b,onClick:function(){r((function(e){return[].concat(Object(B.a)(e),[{name:h,time:t}])})),y()},to:"/leaderboard",children:"Save Score"})]})})]})]})},E=a.p+"static/media/beach.a0e0289e.jpg",H=function(e){var t=e.allFound,a=e.totalTime,r=e.setFoundCharacters,o=e.setPlayerScores,s=e.database,i=e.gameOver,l=e.setGameOver,b=Object(n.useState)(!1),d=Object(j.a)(b,2),u=(d[0],d[1]),O=Object(n.useState)({x:0,y:0}),h=Object(j.a)(O,2),x=h[0],p=h[1],f=Object(n.useState)(),m=Object(j.a)(f,2),g=m[0],v=m[1],y=Object(n.useState)({x:null,y:null}),w=Object(j.a)(y,2),C=w[0],k=w[1],F=Object(L.a)(),M=F.isOpen,W=F.onOpen,B=F.onClose,G=Object(n.useRef)(),Y=Object(T.a)({variant:"solid"}),D={waldo:{pointA:{x:1824,y:711},pointB:{x:1877,y:789}},wenda:{pointA:{x:2296,y:772},pointB:{x:2344,y:818}},whitebeard:{pointA:{x:783,y:650},pointB:{x:856,y:747}}};return Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(A,{isOpen:M,onClose:B,mousePosition:x,handleClick:function(e){var t=e.target.value,a=t.charAt(0).toUpperCase()+t.slice(1);console.log(a);var n=function(e,t){var a=D[t],n=e.x>=a.pointA.x&&e.x<=a.pointB.x,c=e.y>=a.pointA.y&&e.y<=a.pointB.y;return n&&c}(C,t);if(n){switch(t){case"waldo":r((function(e){return Object(I.a)(Object(I.a)({},e),{},{waldo:!0})}));break;case"wenda":r((function(e){return Object(I.a)(Object(I.a)({},e),{},{wenda:!0})}));break;case"whitebeard":r((function(e){return Object(I.a)(Object(I.a)({},e),{},{magician:!0})}));break;default:alert("error in character finding")}B()}else B(),Y({title:"Sorry, no ".concat(a," there."),duration:1800,position:"top"})}}),Object(S.jsx)(z,{totalTime:a,allFound:t,setPlayerScores:o,database:s,gameOver:i,setGameOver:l}),Object(S.jsx)(P.a,{src:E,value:"waldoImage",onClick:function(e){var t={x:e.clientX,y:e.clientY},a=e.target.getBoundingClientRect(),n=G.current.height/g,c=Math.floor((e.clientX-a.left)/n),r=Math.floor((e.clientY-a.top)/n);console.log(c,r),k({x:c,y:r}),function(e,t,a,n,c){n?a():(e(c),t())}(p,W,B,M,t),u(!0)},className:"waldoImage",ref:G,onLoad:function(e){var t=e.target;v(t.naturalHeight)}})]})},X=a(180),V=a(181),_=function(e){var t,a=e.playerScores;a&&(t=a.sort((function(e,t){return e.time<t.time?-1:e.time>t.time?1:0})).map((function(e){return console.log(e),Object(S.jsxs)(X.h,{children:[Object(S.jsx)(X.d,{children:e.name}),Object(S.jsx)(X.d,{isNumeric:!0,children:e.time})]},e.name)})));var n=Object(S.jsxs)(X.h,{children:[Object(S.jsx)(X.d,{children:"Loading..."}),Object(S.jsx)(X.d,{})]});return Object(S.jsx)(V.a,{border:"1px",borderRadius:"md",mt:10,children:Object(S.jsxs)(X.a,{variant:"striped",colorScheme:"gray",children:[Object(S.jsx)(X.b,{placement:"top",children:"Player Leaderboard"}),Object(S.jsx)(X.g,{children:Object(S.jsxs)(X.h,{children:[Object(S.jsx)(X.f,{children:"Player"}),Object(S.jsx)(X.f,{isNumeric:!0,children:"Time"})]})}),Object(S.jsx)(X.c,{children:void 0===t?n:t}),Object(S.jsx)(X.e,{children:Object(S.jsx)(X.h,{children:Object(S.jsx)(X.f,{children:" "})})})]})})},K=a(182),R=a(92),J=function(e){e.setInitialTime,e.setGameStart;var t=e.handleStartClick;return Object(S.jsx)(x.a,{h:"500px",children:Object(S.jsxs)(O.b,{children:[Object(S.jsx)(p.a,{mb:10,size:"4xl",align:"center",children:"Welcome to the Game"}),Object(S.jsxs)(M.a,{children:[Object(S.jsx)(w.a,{pb:3,children:"Ther rules are simple:"}),Object(S.jsxs)(K.a,{pb:10,children:[Object(S.jsxs)(K.c,{children:[Object(S.jsx)(K.b,{as:R.a}),"Find all 3 Characters"]}),Object(S.jsxs)(K.c,{children:[Object(S.jsx)(K.b,{as:R.a}),"The faster the better!"]}),Object(S.jsxs)(K.c,{children:[Object(S.jsx)(K.b,{as:R.a}),"Compare your time against others"]})]})]}),Object(S.jsx)(x.a,{children:Object(S.jsx)(D.a,{background:"purple.500",align:"center",as:b.b,to:"/game",onClick:t,children:"Get Started"})})]})})},U=a(119),q=a(100),Q=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n,c,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("AIzaSyDL_lNa3XzY-YvoMiT9PVhKH5vHX_INafs"),t={apiKey:"AIzaSyDL_lNa3XzY-YvoMiT9PVhKH5vHX_INafs",authDomain:"photo-tagging-e3d61.firebaseapp.com",projectId:"photo-tagging-e3d61",storageBucket:"photo-tagging-e3d61.appspot.com",messagingSenderId:"631312407309",appId:"1:631312407309:web:f082440001d3044b4dee44"},a=Object(U.a)(t),n=Object(N.d)(a),c=Object(q.a)(),r=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("odin@odinproject.com"),console.log("odinodin"),Object(q.b)(c,"odin@odinproject.com","odinodin").then((function(e){var t=e.user;console.log("Signed in"),console.log(t)})).catch((function(e){e.errorCode;var t=e.message;console.log("Could not sign in"),console.log(t)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(N.b)(n,"players"),e.next=3,Object(N.c)(t);case 3:return a=e.sent,c=a.docs.map((function(e){var t=e.data();return{name:t.name,time:t.time}})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",{authInit:r,initialDataLoad:o,db:n});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=Q,$=function(e){var t=e.initialScores,a=Object(n.useState)({waldo:!1,wenda:!1,magician:!1}),c=Object(j.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)(!1),u=Object(j.a)(s,2),O=u[0],h=u[1],x=Object(n.useState)(!1),p=Object(j.a)(x,2),f=p[0],m=p[1],g=Object(n.useState)(!1),v=Object(j.a)(g,2),y=v[0],w=v[1],C=Object(n.useState)(void 0),k=Object(j.a)(C,2),I=k[0],T=k[1],P=Object(n.useState)(t),L=Object(j.a)(P,2),M=L[0],W=L[1],A=Object(n.useState)("none"),B=Object(j.a)(A,2),G=B[0],Y=B[1],D=Object(n.useState)(!1),N=Object(j.a)(D,2),z=N[0],E=N[1];return Object(n.useEffect)((function(){function e(){return e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:return t=e.sent,e.next=5,t.authInit();case 5:return e.sent,e.next=8,t.initialDataLoad();case 8:a=e.sent,W(a),Y(t.db);case 11:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){if(r.waldo&&r.wenda&&r.magician){console.log(I);var e=(new Date).getTime();h((e-I)/1e3),w(!0)}}),[r]),Object(S.jsxs)(b.a,{children:[Object(S.jsx)(F,{foundCharacters:r,gameStart:f,allFound:y}),Object(S.jsxs)(d.c,{children:[Object(S.jsx)(d.a,{path:"/",element:Object(S.jsx)(J,{handleStartClick:function(){T((new Date).getTime()),console.log(I),m(!0)},setGameStart:m})}),Object(S.jsx)(d.a,{path:"/game",element:Object(S.jsx)(H,{allFound:y,totalTime:O,setFoundCharacters:o,setPlayerScores:W,database:G,gameOver:z,setGameOver:E})}),Object(S.jsx)(d.a,{path:"/leaderboard",element:Object(S.jsx)(_,{playerScores:M})})," "]})]})},ee=a(189);o.a.render(Object(S.jsx)(ee.a,{children:Object(S.jsx)($,{})}),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.6a93f21b.chunk.js.map