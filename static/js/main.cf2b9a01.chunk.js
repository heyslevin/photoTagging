(this["webpackJsonpphoto-tagging"]=this["webpackJsonpphoto-tagging"]||[]).push([[0],{151:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(52),o=a.n(r),s=a(1),i=a.n(s),l=a(5),j=a(9),d=a(49),b=a(15),u=a(171),O=a(192),h=a(172),x=a(174),f=a(175),p=a(173),m=a(185),g=a.p+"static/media/waldo.82f9fb09.png",v=a.p+"static/media/wenda.11126878.png",y=a.p+"static/media/whitebeard.dcb5c308.png",w=a(170),S=a(10),C=function(e){var t=e.allFound,a=Object(n.useState)(0),c=Object(j.a)(a,2),r=c[0],o=c[1];Object(n.useEffect)((function(){if(!t){var e=setInterval((function(){o(r+1)}),1e3);return function(){return clearInterval(e)}}}),[r]);var s=function(e){var t=Math.floor(e%60),a=Math.floor(e/60);return t<10&&(t="0"+t),a<10&&(a="0"+a),"".concat(a,":").concat(t)}(r);return t?"":Object(S.jsx)(w.a,{pr:30,color:"gray.500",children:s})},k=Object(m.a)(u.a),F=function(e){var t=e.gameStart,a=e.foundCharacters,n=e.allFound,c={found:{backgroundColor:"green",scale:[1,.5,1.2,.5,1]},notFound:{backgroundColor:"gray"}};return Object(S.jsxs)(O.a,{p:4,children:[Object(S.jsx)(h.a,{flex:"1",justify:"flex-start",children:Object(S.jsxs)(O.a,{children:[Object(S.jsx)(p.a,{as:d.b,to:"/game",display:["none","none","flex","flex"],children:"Find Waldo"}),Object(S.jsx)(k,{name:"Waldo",src:g,whileHover:{scale:1.1},variants:c,animate:a.waldo?"found":"notFound"}),Object(S.jsx)(k,{name:"Wenda",src:v,variants:c,animate:a.wenda?"found":"notFound"}),Object(S.jsx)(k,{name:"Magician",src:y,variants:c,animate:a.magician?"found":"notFound"})]})}),Object(S.jsx)(h.a,{flex:"1",justify:"center",display:["none","none","flex","flex"],children:Object(S.jsx)(x.a,{children:Object(S.jsx)(f.a,{as:d.b,to:"/game",children:"Where's Waldo?"})})}),Object(S.jsxs)(h.a,{flex:"1",justify:"flex-end",children:[t&&Object(S.jsx)(C,{allFound:n}),Object(S.jsx)(p.a,{as:d.b,to:"/leaderboard",children:"View Leaderboard"})]})]})},I=a(112),T=a(68),P=a(188),W=a(181),L=a(179),M=a(176),A=a(186),B=function(e){var t=e.isOpen,a=e.onClose,n=e.mousePosition,c=e.handleClick;return Object(S.jsx)(M.a,{position:"absolute",bg:"blue.400",left:n.x,top:n.y,children:Object(S.jsx)(A.a,{isOpen:t,children:Object(S.jsxs)(A.c,{onMouseLeave:a,children:[Object(S.jsx)(A.b,{onClick:c,value:"waldo",children:"Waldo"}),Object(S.jsx)(A.b,{onClick:c,value:"wenda",children:"Wenda"}),Object(S.jsx)(A.b,{onClick:c,value:"whitebeard",children:"Magician"})]})})})},G=a(17),Y=a(187),D=a(190),E=a(189),N=a(67),z=function(e){var t=e.totalTime,a=e.allFound,r=e.setPlayerScores,o=e.database,s=e.gameOver,b=e.setGameOver,u=Object(n.useState)(),O=Object(j.a)(u,2),h=O[0],x=O[1],p=Object(L.a)(),m=p.isOpen,g=p.onOpen,v=p.onClose;Object(n.useEffect)((function(){a&&(m||g()),console.log(a)}),[a]);var y=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)(Object(N.b)(o,"players"),{name:h,time:t});case 2:e.sent,b(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(Y.a,{isOpen:m,onClose:v,isCentered:!0,children:[Object(S.jsx)(Y.g,{}),Object(S.jsxs)(Y.d,{children:[Object(S.jsx)(Y.f,{children:"You Win!"}),Object(S.jsx)(Y.c,{}),Object(S.jsxs)(Y.b,{children:["Your time was",Object(S.jsx)(f.a,{size:"3xl",color:"green.300",children:t})]}),Object(S.jsx)(Y.e,{children:!s&&Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(D.a,{mr:2,placeholder:"Enter your name",onChange:function(e){return x(e.target.value)}}),Object(S.jsx)(E.a,{as:d.b,onClick:function(){r((function(e){return[].concat(Object(G.a)(e),[{name:h,time:t}])})),y()},to:"/leaderboard",children:"Save Score"})]})})]})]})},H=a.p+"static/media/beach.a0e0289e.jpg",X=function(e){var t=e.allFound,a=e.totalTime,r=e.setFoundCharacters,o=e.setPlayerScores,s=e.database,i=e.gameOver,l=e.setGameOver,d=Object(n.useState)(!1),b=Object(j.a)(d,2),u=(b[0],b[1]),O=Object(n.useState)({x:0,y:0}),h=Object(j.a)(O,2),x=h[0],f=h[1],p=Object(n.useState)(),m=Object(j.a)(p,2),g=m[0],v=m[1],y=Object(n.useState)({x:null,y:null}),w=Object(j.a)(y,2),C=w[0],k=w[1],F=Object(L.a)(),I=F.isOpen,M=F.onOpen,A=F.onClose,G=Object(n.useRef)(),Y=Object(P.a)({variant:"solid"}),D={waldo:{pointA:{x:1824,y:711},pointB:{x:1877,y:789}},wenda:{pointA:{x:2296,y:772},pointB:{x:2344,y:818}},whitebeard:{pointA:{x:783,y:650},pointB:{x:856,y:747}}};return Object(S.jsxs)(c.a.Fragment,{children:[Object(S.jsx)(B,{isOpen:I,onClose:A,mousePosition:x,handleClick:function(e){var t=e.target.value,a=t.charAt(0).toUpperCase()+t.slice(1);console.log(a);var n=function(e,t){var a=D[t],n=e.x>=a.pointA.x&&e.x<=a.pointB.x,c=e.y>=a.pointA.y&&e.y<=a.pointB.y;return n&&c}(C,t);if(n){switch(t){case"waldo":r((function(e){return Object(T.a)(Object(T.a)({},e),{},{waldo:!0})}));break;case"wenda":r((function(e){return Object(T.a)(Object(T.a)({},e),{},{wenda:!0})}));break;case"whitebeard":r((function(e){return Object(T.a)(Object(T.a)({},e),{},{magician:!0})}));break;default:alert("error in character finding")}A()}else A(),Y({title:"Sorry, no ".concat(a," there."),duration:1800,position:"top"})}}),Object(S.jsx)(z,{totalTime:a,allFound:t,setPlayerScores:o,database:s,gameOver:i,setGameOver:l}),Object(S.jsx)(W.a,{src:H,value:"waldoImage",onClick:function(e){var t={x:e.clientX,y:e.clientY},a=e.target.getBoundingClientRect(),n=G.current.height/g,c=Math.floor((e.clientX-a.left)/n),r=Math.floor((e.clientY-a.top)/n);console.log(c,r),k({x:c,y:r}),function(e,t,a,n,c){n?a():(e(c),t())}(f,M,A,I,t),u(!0)},className:"waldoImage",ref:G,onLoad:function(e){var t=e.target;v(t.naturalHeight)}})]})},_=a(182),J=a(183),K=function(e){var t,a=e.playerScores;a&&(t=a.sort((function(e,t){return e.time<t.time?-1:e.time>t.time?1:0})).map((function(e){return console.log(e),Object(S.jsxs)(_.h,{children:[Object(S.jsx)(_.d,{children:e.name}),Object(S.jsx)(_.d,{isNumeric:!0,children:e.time})]},e.name)})));var n=Object(S.jsxs)(_.h,{children:[Object(S.jsx)(_.d,{children:"Loading..."}),Object(S.jsx)(_.d,{})]});return Object(S.jsx)(J.a,{border:"1px",borderRadius:"md",mt:10,children:Object(S.jsxs)(_.a,{variant:"striped",colorScheme:"gray",children:[Object(S.jsx)(_.b,{placement:"top",children:"Player Leaderboard"}),Object(S.jsx)(_.g,{children:Object(S.jsxs)(_.h,{children:[Object(S.jsx)(_.f,{children:"Player"}),Object(S.jsx)(_.f,{isNumeric:!0,children:"Time"})]})}),Object(S.jsx)(_.c,{children:void 0===t?n:t}),Object(S.jsx)(_.e,{children:Object(S.jsx)(_.h,{children:Object(S.jsx)(_.f,{children:" "})})})]})})},R=a(184),V=a(93),U=function(e){e.setInitialTime,e.setGameStart;var t=e.handleStartClick;return Object(S.jsx)(x.a,{h:"500px",children:Object(S.jsxs)(O.b,{children:[Object(S.jsx)(f.a,{mb:10,size:"4xl",align:"center",children:"Welcome to the Game"}),Object(S.jsxs)(M.a,{children:[Object(S.jsx)(w.a,{pb:3,children:"Ther rules are simple:"}),Object(S.jsxs)(R.a,{pb:10,children:[Object(S.jsxs)(R.c,{children:[Object(S.jsx)(R.b,{as:V.a}),"Find all 3 Characters"]}),Object(S.jsxs)(R.c,{children:[Object(S.jsx)(R.b,{as:V.a}),"The faster the better!"]}),Object(S.jsxs)(R.c,{children:[Object(S.jsx)(R.b,{as:V.a}),"Compare your time against others"]})]})]}),Object(S.jsx)(x.a,{children:Object(S.jsx)(E.a,{background:"purple.500",align:"center",as:d.b,to:"/game",onClick:t,children:"Get Started"})})]})})},q=a(121),Q=a(101),Z=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n,c,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("AIzaSyDL_lNa3XzY-YvoMiT9PVhKH5vHX_INafs"),t={apiKey:"AIzaSyDL_lNa3XzY-YvoMiT9PVhKH5vHX_INafs",authDomain:"photo-tagging-e3d61.firebaseapp.com",projectId:"photo-tagging-e3d61",storageBucket:"photo-tagging-e3d61.appspot.com",messagingSenderId:"631312407309",appId:"1:631312407309:web:f082440001d3044b4dee44"},a=Object(q.a)(t),n=Object(N.d)(a),c=Object(Q.a)(),r=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("odin@odinproject.com"),console.log("odinodin"),Object(Q.b)(c,"odin@odinproject.com","odinodin").then((function(e){var t=e.user;console.log("Signed in"),console.log(t)})).catch((function(e){e.errorCode;var t=e.message;console.log("Could not sign in"),console.log(t)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(N.b)(n,"players"),e.next=3,Object(N.c)(t);case 3:return a=e.sent,c=a.docs.map((function(e){var t=e.data();return{name:t.name,time:t.time}})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",{authInit:r,initialDataLoad:o,db:n});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=Z,ee=function(e){var t=e.initialScores,a=Object(n.useState)({waldo:!1,wenda:!1,magician:!1}),c=Object(j.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)(!1),u=Object(j.a)(s,2),O=u[0],h=u[1],x=Object(n.useState)(!1),f=Object(j.a)(x,2),p=f[0],m=f[1],g=Object(n.useState)(!1),v=Object(j.a)(g,2),y=v[0],w=v[1],C=Object(n.useState)(void 0),k=Object(j.a)(C,2),T=k[0],P=k[1],W=Object(n.useState)(t),L=Object(j.a)(W,2),M=L[0],A=L[1],B=Object(n.useState)("none"),G=Object(j.a)(B,2),Y=G[0],D=G[1],E=Object(n.useState)(!1),N=Object(j.a)(E,2),z=N[0],H=N[1];return Object(n.useEffect)((function(){function e(){return e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:return t=e.sent,e.next=5,t.authInit();case 5:return e.sent,e.next=8,t.initialDataLoad();case 8:a=e.sent,A(a),D(t.db);case 11:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){if(r.waldo&&r.wenda&&r.magician){console.log(T);var e=(new Date).getTime();h((e-T)/1e3),w(!0)}}),[r]),Object(S.jsxs)(d.a,{children:[Object(S.jsxs)(I.a,{children:[Object(S.jsx)("title",{children:"\ud83d\udd0d Find Waldo"}),Object(S.jsx)("meta",{name:"JS Exercise for The Odin Project"})]}),Object(S.jsx)(F,{foundCharacters:r,gameStart:p,allFound:y}),Object(S.jsxs)(b.c,{children:[Object(S.jsx)(b.a,{path:"/",element:Object(S.jsx)(U,{handleStartClick:function(){P((new Date).getTime()),console.log(T),m(!0)},setGameStart:m})}),Object(S.jsx)(b.a,{path:"/game",element:Object(S.jsx)(X,{allFound:y,totalTime:O,setFoundCharacters:o,setPlayerScores:A,database:Y,gameOver:z,setGameOver:H})}),Object(S.jsx)(b.a,{path:"/leaderboard",element:Object(S.jsx)(K,{playerScores:M})})," "]})]})},te=a(191);o.a.render(Object(S.jsx)(te.a,{children:Object(S.jsx)(ee,{})}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.cf2b9a01.chunk.js.map